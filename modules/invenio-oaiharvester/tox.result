GLOB sdist-make: /code/modules/invenio-oaiharvester/setup.py
c1 inst-nodeps: /code/modules/invenio-oaiharvester/.tox/.tmp/package/1/invenio-oaiharvester-1.0.0a4.dev20171205.zip
c1 installed: alabaster==0.7.13,alembic==0.9.6,amqp==2.6.1,angular-gettext-babel==0.3,aniso8601==8.0.0,arrow==0.12.1,asn1crypto==0.23.0,attrs==17.4.0,b2handle==1.1.2,Babel==2.5.1,bagit==1.7.0,beautifulsoup4==4.9.3,bibtexparser==1.0.1,billiard==3.6.3.0,binaryornot==0.4.4,bleach==3.1.0,blinker==1.4,boto3==1.7.84,botocore==1.10.84,cachelib==0.1,cachetools==4.2.4,cchardet==2.1.1,celery==4.4.7,certifi==2017.11.5,cffi==1.11.2,chardet==3.0.4,citeproc-py==0.5.1,citeproc-py-styles==0.1.2,click==8.0.4,cookiecutter==1.6.0,counter-robots==2018.6,coverage==6.2,cryptography==2.1.4,datacite==1.0.1,DateTime==4.9,decorator==4.1.2,defusedxml==0.5.0,dictdiffer==0.7.0,dnspython==2.2.1,docutils==0.18.1,dojson==1.3.2,elasticsearch==6.1.1,elasticsearch-dsl==6.4.0,elementpath==1.0.6,email-validator==1.0.5,entrypoints==0.2.3,feedgen==0.7.0,Flask==1.0.4,Flask-Admin==1.5.3,Flask-Alembic==2.0.1,Flask-Assets==0.12,Flask-BabelEx==0.9.4,Flask-Breadcrumbs==0.5.0,Flask-Caching==1.3.3,Flask-CeleryExt==0.3.4,Flask-Collect==1.2.2,Flask-Cors==3.0.3,Flask-DebugToolbar==0.11.0,Flask-IIIF==0.6.1,Flask-KVSession==0.6.2,Flask-Limiter==1.1.0,Flask-Login==0.4.1,Flask-Mail==0.9.1,flask-marshmallow==0.14.0,Flask-Menu==0.6.0,Flask-OAuthlib==0.9.5,Flask-Plugins==1.6.1,Flask-Principal==0.4.0,Flask-RESTful==0.3.8,Flask-Security==3.0.0,flask-shell-ipython==0.4.1,Flask-Sitemap==0.1.0,Flask-SQLAlchemy==2.3.2,flask-talisman==0.4.1,Flask-WTF==0.14.3,-e git+https://github.com/RCOSDP/pyfpdf.git@f9b032148283d535cabc7789858081c80de36fef#egg=fpdf,frozendict==2.3.7,fs==0.5.4,ftfy==4.4.3,future==0.16.0,github3.py==1.1.0,html5lib==1.0.1,idna==2.6,iiif-prezi==0.3.0,imagesize==1.4.1,importlib-metadata==4.8.3,importlib-resources==5.4.0,infinity==1.4,iniconfig==1.1.1,intervals==0.8.0,invenio-access==1.1.0,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_accounts&subdirectory=modules/invenio-accounts,invenio-admin==1.1.2,invenio-app==1.1.0,invenio-assets==1.0.0,invenio-base==1.0.2,invenio-cache==1.0.0,invenio-celery==1.1.3,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_communities&subdirectory=modules/invenio-communities,invenio-config==1.0.0,invenio-csl-rest==1.0.0a1,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_db&subdirectory=modules/invenio-db,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_deposit&subdirectory=modules/invenio-deposit,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_files_rest&subdirectory=modules/invenio-files-rest,invenio-formatter==1.0.0b3,invenio-i18n==1.0.0,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_iiif&subdirectory=modules/invenio-iiif,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_indexer&subdirectory=modules/invenio-indexer,invenio-jsonschemas==1.0.0,invenio-logging==1.0.0b3,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_mail&subdirectory=modules/invenio-mail,invenio-marc21==1.0.0a8,invenio-oaiharvester @ file:///code/modules/invenio-oaiharvester/.tox/.tmp/package/1/invenio-oaiharvester-1.0.0a4.dev20171205.zip,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_oaiserver&subdirectory=modules/invenio-oaiserver,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_oauth2server&subdirectory=modules/invenio-oauth2server,invenio-oauthclient==1.0.0,invenio-pidrelations==1.0.0a4,invenio-pidstore==1.0.0,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_previewer&subdirectory=modules/invenio-previewer,invenio-query-parser==0.6.0,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_queues&subdirectory=modules/invenio-queues,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_records&subdirectory=modules/invenio-records,invenio-records-files==1.0.0a10,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_records_rest&subdirectory=modules/invenio-records-rest,invenio-records-ui==1.0.0,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_resourcesyncclient&subdirectory=modules/invenio-resourcesyncclient,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_resourcesyncserver&subdirectory=modules/invenio-resourcesyncserver,invenio-rest==1.1.2,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_s3&subdirectory=modules/invenio-s3,invenio-search==1.1.0,invenio-search-ui==1.0.0a9,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=invenio_stats&subdirectory=modules/invenio-stats,invenio-theme==1.0.0b4,ipaddress==1.0.19,ipython==6.2.1,ipython-genutils==0.2.0,itsdangerous==0.24,jedi==0.11.0,Jinja2==2.10,jinja2-cli==0.6.0,jinja2-time==0.2.0,jmespath==0.10.0,jsmin==2.2.2,jsonpatch==1.21,jsonpath-ng==1.5.2,jsonpointer==1.14,jsonref==0.1,jsonresolver==0.2.1,jsonschema==2.6.0,jupyter-client==5.2.2,jupyter-core==4.4.0,-e git+https://github.com/RCOSDP/kombu.git@f204fdf078d5e94393c86693f545e2d011f620f5#egg=kombu,limits==1.2.1,lxml==4.1.1,Mako==1.0.7,MarkupSafe==1.1.1,marshmallow==2.20.1,marshmallow-sqlalchemy==0.23.1,maxminddb==1.5.2,maxminddb-geolite2==2017.803,mistune==0.8.3,mock==3.0.5,more-itertools==8.10.0,msgpack==0.6.2,nbconvert==5.3.1,nbformat==4.4.0,netaddr==0.8.0,node-semver==0.1.1,numpy==1.16.1,oauthlib==2.1.0,ordereddict==1.1,packaging==21.3,pandocfilters==1.4.2,parso==0.1.0,passlib==1.7.1,pexpect==4.3.0,pickleshare==0.7.4,Pillow==5.4.1,pluggy==0.13.1,ply==3.11,poyo==0.4.1,prompt-toolkit==1.0.15,psycopg2==2.7.3.2,ptyprocess==0.5.2,py==1.11.0,pycparser==2.18,Pygments==2.2.0,PyJWT==1.5.3,PyLD==2.0.3,pyparsing==3.0.9,-e git+https://github.com/RCOSDP/PyPDF2.git@fefc684a3a74aff6f99e5dff24f9b4dd1c95169d#egg=PyPDF2,pyPEG2==2.15.2,pytest==6.1.2,pytest-cov==4.0.0,pytest-mock==3.6.1,python-dateutil==2.6.1,python-editor==1.0.3,python-geoip==1.2,pytz==2017.3,pyzmq==17.0.0,redis==2.10.6,requests==2.18.4,requests-oauthlib==1.1.0,responses==0.10.15,resync==1.0.9,s3fs==0.1.6,s3transfer==0.1.13,Sickle==0.6.4,simplegeneric==0.8.1,simplejson==3.12.0,simplekv==0.11.2,six==1.12.0,snowballstemmer==2.2.0,soupsieve==2.3.2.post1,speaklater==1.3,Sphinx==1.8.4,sphinxcontrib-serializinghtml==1.1.5,sphinxcontrib-websupport==1.2.4,SQLAlchemy==1.2.19,SQLAlchemy-Continuum==1.3.6,SQLAlchemy-Utils==0.35.0,testpath==0.3.1,toml==0.10.2,tomli==1.2.3,tornado==4.5.3,traitlets==4.3.2,typing_extensions==4.1.1,ua-parser==0.7.3,uritemplate==4.1.1,uritools==2.1.0,urllib3==1.22,validators==0.12.0,vine==1.3.0,Wand==0.6.1,wcwidth==0.1.7,webargs==5.5.2,webassets==0.12.1,webencodings==0.5.1,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_accounts&subdirectory=modules/weko-accounts,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_admin&subdirectory=modules/weko-admin,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_authors&subdirectory=modules/weko-authors,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_bulkupdate&subdirectory=modules/weko-bulkupdate,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_deposit&subdirectory=modules/weko-deposit,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_gridlayout&subdirectory=modules/weko-gridlayout,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_groups&subdirectory=modules/weko-groups,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_handle&subdirectory=modules/weko-handle,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_index_tree&subdirectory=modules/weko-index-tree,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_indextree_journal&subdirectory=modules/weko-indextree-journal,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_items_autofill&subdirectory=modules/weko-items-autofill,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_items_ui&subdirectory=modules/weko-items-ui,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_itemtypes_ui&subdirectory=modules/weko-itemtypes-ui,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_logging&subdirectory=modules/weko-logging,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_records&subdirectory=modules/weko-records,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_records_ui&subdirectory=modules/weko-records-ui,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_redis&subdirectory=modules/weko-redis,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_schema_ui&subdirectory=modules/weko-schema-ui,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_search_ui&subdirectory=modules/weko-search-ui,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_sitemap&subdirectory=modules/weko-sitemap,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_theme&subdirectory=modules/weko-theme,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_user_profiles&subdirectory=modules/weko-user-profiles,-e git+https://mhaya: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@github.com/RCOSDP/weko.git@7ad69513df30aa043c8d79e8ad9fe7104eee0d6a#egg=weko_workflow&subdirectory=modules/weko-workflow,Werkzeug==0.15.2,whichcraft==0.4.1,WTForms==2.1,WTForms-Alchemy==0.16.5,WTForms-Components==0.10.3,xmlschema==0.9.30,xmltodict==0.12.0,zipp==3.6.0,zope.interface==5.5.2
c1 run-test-pre: PYTHONHASHSEED='3483977045'
c1 run-test: commands[0] | pytest --cov=invenio_oaiharvester tests -v --cov-branch --cov-report=term --cov-report=xml --basetemp=/code/modules/invenio-oaiharvester/.tox/c1/tmp
============================= test session starts ==============================
platform linux -- Python 3.6.15, pytest-6.1.2, py-1.11.0, pluggy-0.13.1 -- /code/modules/invenio-oaiharvester/.tox/c1/bin/python
cachedir: .tox/c1/.pytest_cache
rootdir: /code/modules/invenio-oaiharvester
plugins: celery-4.4.7, mock-3.6.1, cov-4.0.0
collecting ... collected 33 items

tests/test_admin.py::test_admin PASSED                                   [  3%]
tests/test_cli.py::test_cli_harvest_idents PASSED                        [  6%]
tests/test_cli.py::test_cli_harvest_list PASSED                          [  9%]
tests/test_harvesting.py::test_model_based_harvesting PASSED             [ 12%]
tests/test_harvesting.py::test_model_based_utf8_harvesting PASSED        [ 15%]
tests/test_harvesting.py::test_model_based_harvesting_list PASSED        [ 18%]
tests/test_harvesting.py::test_raise_missing_info PASSED                 [ 21%]
tests/test_harvesting.py::test_raise_wrong_date PASSED                   [ 24%]
tests/test_harvesting.py::test_list_records PASSED                       [ 27%]
tests/test_harvesting.py::test_list_no_records PASSED                    [ 30%]
tests/test_harvesting.py::test_get_from_identifiers PASSED               [ 33%]
tests/test_harvesting.py::test_get_from_identifiers_with_prefix PASSED   [ 36%]
tests/test_harvesting.py::test_harvester_list_sets ERROR                 [ 39%]
tests/test_harvesting.py::test_harvester_list_records ERROR              [ 42%]
tests/test_invenio_oaiharvester.py::test_version PASSED                  [ 45%]
tests/test_invenio_oaiharvester.py::test_init PASSED                     [ 48%]
tests/test_tasks.py::test_get_specific_records PASSED                    [ 51%]
tests/test_tasks.py::test_list_records_from_dates PASSED                 [ 54%]
tests/test_tasks.py::test_create_indexes PASSED                          [ 57%]
tests/test_tasks.py::test_map_indexes PASSED                             [ 60%]
tests/test_tasks.py::test_event_counter PASSED                           [ 63%]
tests/test_tasks.py::test_process_item PASSED                            [ 66%]
tests/test_tasks.py::test_run_harvesting PASSED                          [ 69%]
tests/test_utils.py::test_identifier_extraction PASSED                   [ 72%]
tests/test_utils.py::test_identifier_extraction_with_namespace PASSED    [ 75%]
tests/test_utils.py::test_records_extraction_without_namespace PASSED    [ 78%]
tests/test_utils.py::test_records_extraction_with_namespace_getrecord PASSED [ 81%]
tests/test_utils.py::test_records_extraction_with_namespace_listrecords PASSED [ 84%]
tests/test_utils.py::test_records_extraction_from_file PASSED            [ 87%]
tests/test_utils.py::test_identifier_filter PASSED                       [ 90%]
tests/test_utils.py::test_check_or_create_dir PASSED                     [ 93%]
tests/test_utils.py::test_write_to_dir PASSED                            [ 96%]
tests/test_utils.py::test_create_file_name PASSED                        [100%]

==================================== ERRORS ====================================
__________________ ERROR at setup of test_harvester_list_sets __________________

    @pytest.fixture
    def sample_jpcoar_list_xml():
        raw_cs_xml = open(os.path.join(
            os.path.dirname(__file__),
>           "data/oai.xml"
        )).read()
E       FileNotFoundError: [Errno 2] No such file or directory: '/code/modules/invenio-oaiharvester/tests/data/oai.xml'

tests/conftest.py:359: FileNotFoundError
------------------------------ Captured log setup ------------------------------
WARNING  flask.app:ext.py:255 JSONSCHEMAS_HOST is set to localhost
________________ ERROR at setup of test_harvester_list_records _________________

    @pytest.fixture
    def sample_jpcoar_list_xml():
        raw_cs_xml = open(os.path.join(
            os.path.dirname(__file__),
>           "data/oai.xml"
        )).read()
E       FileNotFoundError: [Errno 2] No such file or directory: '/code/modules/invenio-oaiharvester/tests/data/oai.xml'

tests/conftest.py:359: FileNotFoundError
------------------------------ Captured log setup ------------------------------
WARNING  flask.app:ext.py:255 JSONSCHEMAS_HOST is set to localhost
=============================== warnings summary ===============================
../invenio-indexer/invenio_indexer/cli.py:162
  /code/modules/invenio-indexer/invenio_indexer/cli.py:162: DeprecationWarning: 'resultcallback' has been renamed to 'result_callback'. The old name will be removed in Click 8.1.
    @queue.resultcallback()

.tox/c1/lib/python3.6/site-packages/flask_oauthlib/contrib/cache.py:3
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/flask_oauthlib/contrib/cache.py:3: DeprecationWarning: 'werkzeug.contrib.cache' is deprecated as of version 0.15 and will be removed in version 1.0. It has moved to https://github.com/pallets/cachelib.
    from werkzeug.contrib.cache import NullCache, SimpleCache, FileSystemCache

.tox/c1/lib/python3.6/site-packages/past/translation/__init__.py:35
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/past/translation/__init__.py:35: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses
    import imp

tests/test_admin.py: 1 warning
tests/test_cli.py: 2 warnings
tests/test_harvesting.py: 11 warnings
tests/test_tasks.py: 7 warnings
tests/test_utils.py: 8 warnings
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/flask_celeryext/app.py:36: UserWarning: Celery v4 installed, but detected Celery v3 configuration CELERY_ALWAYS_EAGER (use CELERY_TASK_ALWAYS_EAGER instead).
    UserWarning

tests/test_admin.py: 1 warning
tests/test_cli.py: 2 warnings
tests/test_harvesting.py: 11 warnings
tests/test_tasks.py: 7 warnings
tests/test_utils.py: 8 warnings
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/flask_celeryext/app.py:36: UserWarning: Celery v4 installed, but detected Celery v3 configuration CELERY_EAGER_PROPAGATES_EXCEPTIONS (use CELERY_TASK_EAGER_PROPAGATES instead).
    UserWarning

tests/test_admin.py: 1 warning
tests/test_cli.py: 2 warnings
tests/test_harvesting.py: 11 warnings
tests/test_tasks.py: 7 warnings
tests/test_utils.py: 8 warnings
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/flask_sqlalchemy/__init__.py:794: FSADeprecationWarning: SQLALCHEMY_TRACK_MODIFICATIONS adds significant overhead and will be disabled by default in the future.  Set it to True or False to suppress this warning.
    'SQLALCHEMY_TRACK_MODIFICATIONS adds significant overhead and '

tests/test_admin.py::test_admin
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/flask/sessions.py:208: UserWarning: "TEST_SERVER" is not a valid cookie domain, it must contain a ".". Add an entry to your hosts file, for example "TEST_SERVER.localdomain", and use that instead.
    ' "{rv}.localdomain", and use that instead.'.format(rv=rv)

tests/test_tasks.py::test_process_item
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/bs4/__init__.py:424: MarkupResemblesLocatorWarning: "https://www.pdrc.keio.ac.jp/pdrc/" looks like a URL. Beautiful Soup is not an HTTP client. You should probably use an HTTP client like requests to get the document behind the URL, and feed that document to Beautiful Soup.
    MarkupResemblesLocatorWarning

-- Docs: https://docs.pytest.org/en/stable/warnings.html

---------- coverage: platform linux, python 3.6.15-final-0 -----------
Name                                Stmts   Miss Branch BrPart  Cover
---------------------------------------------------------------------
invenio_oaiharvester/__init__.py        6      0      0      0   100%
invenio_oaiharvester/admin.py         120     67     22      0    40%
invenio_oaiharvester/api.py            93     18     38      5    75%
invenio_oaiharvester/cli.py            63      0     22      2    98%
invenio_oaiharvester/config.py         15      0      0      0   100%
invenio_oaiharvester/errors.py          8      0     12      0   100%
invenio_oaiharvester/ext.py            18      0      8      0   100%
invenio_oaiharvester/harvester.py     656    198    318     50    67%
invenio_oaiharvester/models.py         57      0     16      3    96%
invenio_oaiharvester/signals.py         5      0      0      0   100%
invenio_oaiharvester/tasks.py         286     71    114     32    68%
invenio_oaiharvester/utils.py          98      2     30      3    96%
invenio_oaiharvester/version.py         3      0      0      0   100%
invenio_oaiharvester/views.py          14      7      4      1    44%
---------------------------------------------------------------------
TOTAL                                1442    363    584     96    71%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
ERROR tests/test_harvesting.py::test_harvester_list_sets - FileNotFoundError:...
ERROR tests/test_harvesting.py::test_harvester_list_records - FileNotFoundErr...
============= 31 passed, 92 warnings, 2 errors in 70.81s (0:01:10) =============
ERROR: InvocationError for command /code/modules/invenio-oaiharvester/.tox/c1/bin/pytest --cov=invenio_oaiharvester tests -v --cov-branch --cov-report=term --cov-report=xml --basetemp=/code/modules/invenio-oaiharvester/.tox/c1/tmp (exited with code 1)
___________________________________ summary ____________________________________
ERROR:   c1: commands failed
